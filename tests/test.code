.IFJcode18
JUMP $$main
LABEL length
PUSHFRAME
DEFVAR LF@%retval
STRLEN LF@%retval LF@%1
POPFRAME
RETURN
LABEL chr
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
INT2CHAR  LF@%retval LF@%1
POPFRAME
RETURN
LABEL ord
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
JUMPIFEQ $nil_ret LF@%2 int@0
JUMP $ord
LABEL $nil_ret
MOVE LF@%retval nil@nil
POPFRAME
RETURN
LABEL $ord
STRLEN GF@$$var_integer LF@%1
LT GF@$$var_double GF@$$var_integer LF@%2
JUMPIFEQ label_ord bool@true GF@$$var_double
SUB LF@%2 LF@%2 int@1
GETCHAR GF@$$var_string LF@%1 LF@%2
STRI2INT GF@$$var_integer GF@$$var_string int@0
JUMP label_end_ord
LABEL label_ord
MOVE GF@$$var_integer int@0
LABEL label_end_ord
MOVE GF@$$var_double float@0x0p+0
MOVE LF@%retval GF@$$var_double
POPFRAME
RETURN
LABEL substr
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
STRLEN GF@$$var_integer LF@%1
LT GF@$$var_double GF@$$var_integer LF@%2
JUMPIFEQ label_substr bool@true GF@$$var_double
MOVE GF@$$var_integer int@0
LT GF@$$var_integer LF@%3 GF@$$var_integer
JUMPIFEQ label_substr bool@true GF@$$var_integer
MOVE GF@$$var_integer int@0
SUB LF@%2 LF@%2 int@1
LABEL label_substr_read
EQ GF@$$var_integer LF@%3 int@0
JUMPIFEQ label_substr bool@true GF@$$var_integer
GETCHAR GF@$$var_string LF@%1 LF@%2
CONCAT GF@$result GF@$$var_string GF@$$var_string
SUB LF@%3 LF@%3 int@1
JUMP label_substr_read
LABEL label_substr
MOVE GF@$$var_integer int@0
LABEl label_end_substr
MOVE GF@$$var_double float@0x0p+0
MOVE GF@$$var_string string@
MOVE LF@%retval GF@$$var_string
POPFRAME
RETURN
LABEL $$main
DEFVAR GF@$$var_integer
MOVE GF@$$var_integer int@0
DEFVAR GF@$$var_double
MOVE GF@$$var_double float@0x0p+0
DEFVAR GF@$$var_string
MOVE GF@$$var_string string@
DEFVAR GF@$$EXPR1
MOVE GF@$$EXPR1 int@0
DEFVAR GF@$$EXPR2
MOVE GF@$$EXPR2 int@0
DEFVAR GF@$result
DEFVAR GF@$type
DEFVAR GF@$tmp
DEFVAR GF@$tmp2
DEFVAR GF@$type1
DEFVAR GF@$type2
CREATEFRAME
PUSHFRAME
DEFVAR LF@a
MOVE GF@$result float@0x1.c28f5c28f5c29p-4
MOVE LF@a GF@$result
READ LF@a float
WRITE LF@a
EXIT int@0
