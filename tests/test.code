.IFJcode18
JUMP $$main
LABEL length
PUSHFRAME
DEFVAR LF@%retval
STRLEN LF@%retval LF@%1
POPFRAME
RETURN
LABEL chr
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
INT2CHAR  LF@%retval LF@%1
POPFRAME
RETURN
LABEL ord
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
JUMPIFEQ $nil_ret LF@%2 int@0
JUMP $ord
LABEL $nil_ret
MOVE LF@%retval nil@nil
POPFRAME
RETURN
LABEL $ord
STRLEN GF@$$var_integer LF@%1
LT GF@$$var_double GF@$$var_integer LF@%2
JUMPIFEQ label_ord bool@true GF@$$var_double
SUB LF@%2 LF@%2 int@1
GETCHAR GF@$$var_string LF@%1 LF@%2
STRI2INT GF@$$var_integer GF@$$var_string int@0
JUMP label_end_ord
LABEL label_ord
MOVE GF@$$var_integer int@0
LABEL label_end_ord
MOVE GF@$$var_double float@0x0p+0
MOVE LF@%retval GF@$$var_double
POPFRAME
RETURN
LABEL substr
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
STRLEN GF@$$var_integer LF@%1
LT GF@$$var_double GF@$$var_integer LF@%2
JUMPIFEQ label_nil_substr bool@true GF@$$var_double
MOVE GF@$$var_integer int@0
LT GF@$$var_double LF@%3 GF@$$var_integer
JUMPIFEQ label_nil_substr bool@true GF@$$var_double
STRLEN GF@$$var_integer LF@%1
SUB GF@$$var_integer GF@$$var_integer LF@%2
GT GF@$$var_double LF@%3 GF@$$var_integer
JUMPIFEQ label_substr_over GF@$$var_double bool@true
MOVE GF@$result nil@nil
LABEL label_substr_read
EQ GF@$$var_double LF@%3 LF@%2
JUMPIFEQ label_substr bool@true GF@$$var_double
GETCHAR GF@$result LF@%1 LF@%2
CONCAT GF@$$var_string GF@$$var_string GF@$result
ADD LF@%2 LF@%2 int@1
JUMP label_substr_read
LABEL label_substr_over
STRLEN GF@$$var_integer LF@%1
SUB GF@$$var_integer GF@$$var_integer LF@%2
LABEL label_over_read
EQ GF@$$var_double GF@$$var_integer int@0
JUMPIFEQ label_substr bool@true GF@$$var_double
GETCHAR GF@$result LF@%1 LF@%2
CONCAT GF@$$var_string GF@$$var_string GF@$result
ADD LF@%2 LF@%2 int@1
SUB GF@$$var_integer GF@$$var_integer int@1
JUMP label_over_read
LABEL label_substr
MOVE LF@%retval GF@$$var_string
LABEL label_nil_substr
POPFRAME
RETURN
LABEL $$main
DEFVAR GF@$$var_integer
MOVE GF@$$var_integer int@0
DEFVAR GF@$$var_double
MOVE GF@$$var_double float@0x0p+0
DEFVAR GF@$$var_string
MOVE GF@$$var_string string@
DEFVAR GF@$$EXPR1
MOVE GF@$$EXPR1 int@0
DEFVAR GF@$$EXPR2
MOVE GF@$$EXPR2 int@0
DEFVAR GF@$result
DEFVAR GF@$type
DEFVAR GF@$tmp
DEFVAR GF@$tmp2
DEFVAR GF@$type1
DEFVAR GF@$type2
CREATEFRAME
PUSHFRAME
DEFVAR LF@a
READ LF@a int
WRITE LF@a
MOVE GF@$result LF@a
IDIV GF@$result GF@$result int@5
MOVE LF@a GF@$result
EXIT int@0
