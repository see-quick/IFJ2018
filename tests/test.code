.IFJcode18
JUMP $$main
LABEL length
PUSHFRAME
DEFVAR LF@%retval
STRLEN LF@%retval LF@%1
POPFRAME
RETURN
LABEL chr
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
INT2CHAR  LF@%retval LF@%1
POPFRAME
RETURN
LABEL ord
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
JUMPIFEQ $nil_ret LF@%2 int@0
JUMP $ord
LABEL $nil_ret
MOVE LF@%retval nil@nil
POPFRAME
RETURN
LABEL $ord
STRLEN GF@$$var_integer LF@%1
LT GF@$$var_double GF@$$var_integer LF@%2
JUMPIFEQ label_ord bool@true GF@$$var_double
SUB LF@%2 LF@%2 int@1
GETCHAR GF@$$var_string LF@%1 LF@%2
STRI2INT GF@$$var_integer GF@$$var_string int@0
JUMP label_end_ord
LABEL label_ord
MOVE GF@$$var_integer int@0
LABEL label_end_ord
MOVE GF@$$var_double float@0x0p+0
MOVE LF@%retval GF@$$var_double
POPFRAME
RETURN
LABEL substr
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
STRLEN GF@$$var_integer LF@%1
LT GF@$$var_double GF@$$var_integer LF@%2
JUMPIFEQ label_substr bool@true GF@$$var_double
MOVE GF@$$var_integer int@0
LT GF@$$var_integer LF@%3 GF@$$var_integer
JUMPIFEQ label_substr bool@true GF@$$var_integer
MOVE GF@$$var_integer int@0
SUB LF@%2 LF@%2 int@1
LABEL label_substr_read
EQ GF@$$var_integer LF@%3 int@0
JUMPIFEQ label_substr bool@true GF@$$var_integer
GETCHAR GF@$$var_string LF@%1 LF@%2
CONCAT GF@$result GF@$$var_string GF@$$var_string
SUB LF@%3 LF@%3 int@1
JUMP label_substr_read
LABEL label_substr
MOVE GF@$$var_integer int@0
LABEl label_end_substr
MOVE GF@$$var_double float@0x0p+0
MOVE GF@$$var_string string@
MOVE LF@%retval GF@$$var_string
POPFRAME
RETURN
LABEL foo
PUSHFRAME
DEFVAR LF@%retval
MOVE LF@%retval nil@nil
DEFVAR LF@a
MOVE LF@a LF@%1
LABEL while_label1
MOVE GF@$result LF@a
TYPE GF@$type LF@a
JUMPIFEQ MATH_OPERATION1 GF@$type string@int
EXIT int@4
LABEL MATH_OPERATION1
EQ GF@$result GF@$result int@3
NOT GF@$result GF@$result
JUMPIFEQ while_label1_end GF@$result bool@false
MOVE GF@$result LF@a
TYPE GF@$type GF@$result
JUMPIFEQ MATH_OPERATION2 GF@$type string@int
EXIT int@4
LABEL MATH_OPERATION2
ADD GF@$result GF@$result int@1
MOVE LF@a GF@$result
CREATEFRAME
DEFVAR TF@%1
MOVE TF@%1 GF@$result
WRITE TF@%1
MOVE GF@$result LF@a
LT GF@$result GF@$result int@10
JUMPIFEQ if_label_then1 GF@$result bool@true
JUMP if_label_else1
LABEL if_label_then1
MOVE GF@$result LF@a
SUB GF@$result GF@$result int@25
MOVE LF@a GF@$result
CREATEFRAME
DEFVAR TF@%1
MOVE TF@%1 GF@$result
WRITE TF@%1
JUMP if_label1_end
LABEL if_label_else1
MOVE GF@$result LF@a
SUB GF@$result GF@$result int@30
MOVE LF@a GF@$result
CREATEFRAME
DEFVAR TF@%1
MOVE TF@%1 GF@$result
WRITE TF@%1
JUMP if_label1_end
LABEL if_label1_end
JUMP while_label1
LABEL while_label1_end
MOVE LF@%retval GF@$result
POPFRAME
RETURN
LABEL $$main
DEFVAR GF@$$var_integer
MOVE GF@$$var_integer int@0
DEFVAR GF@$$var_double
MOVE GF@$$var_double float@0x0p+0
DEFVAR GF@$$var_string
MOVE GF@$$var_string string@
DEFVAR GF@$$EXPR1
MOVE GF@$$EXPR1 int@0
DEFVAR GF@$$EXPR2
MOVE GF@$$EXPR2 int@0
DEFVAR GF@$result
DEFVAR GF@$type
DEFVAR GF@$tmp
DEFVAR GF@$tmp2
DEFVAR GF@$type1
DEFVAR GF@$type2
CREATEFRAME
PUSHFRAME
DEFVAR LF@a
MOVE GF@$result int@1
MOVE LF@a GF@$result
DEFVAR LF@b
CREATEFRAME
DEFVAR TF@%1
MOVE TF@%1 LF@a
CALL foo
MOVE LF@b TF@%retval
CREATEFRAME
DEFVAR TF@%1
MOVE TF@%1 LF@b
WRITE TF@%1
EXIT int@0
